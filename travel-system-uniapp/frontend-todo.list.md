# 前端 TodoList（微信小程序）

## 1. 基础工程与公共能力

- [ ] **初始化小程序项目**
  - [ ] 使用微信开发者工具创建小程序工程
  - [ ] 配置项目基本信息（appid、项目名称、项目描述）
  - [ ] 规划目录结构：`pages`、`components`、`utils`、`services`、`assets` 等

- [ ] **全局配置与样式**
  - [ ] 配置 `app.json`（tabBar、全局路由、窗口样式）
  - [ ] 配置全局主题与基础色（主色、次色、背景色、文字颜色）
  - [ ] 定义全局样式文件（如 `base.wxss`：字体、按钮、卡片、栅格布局）

- [ ] **网络请求封装**
  - [ ] 封装通用 `request` 方法（基于 `wx.request`）
  - [ ] 统一处理：baseUrl、超时、Loading、错误提示
  - [ ] 统一携带 token（从本地缓存读取，自动附加到 header）
  - [ ] 处理登录失效（token 过期自动跳转登录页）

- [ ] **全局状态与缓存**
  - [ ] 使用全局变量 / 单例管理用户登录态、兴趣标签、当前城市
  - [ ] 本地缓存用户信息、兴趣标签、最近搜索历史
  - [ ] 约定缓存 key 命名规范

---

## 2. 用户登录与个人中心模块

- [ ] **微信授权登录**
  - [ ] 集成微信登录按钮，获取 `code` 和用户基础信息（昵称、头像）
  - [ ] 调用后端登录接口换取 token
  - [ ] 登录成功后缓存 token 与用户信息

- [ ] **个人信息页**
  - [ ] 展示：头像、昵称、性别、城市、签名
  - [ ] 支持用户修改签名、常驻城市等扩展信息
  - [ ] 显示统计数据：游记数、收藏数、打卡数

- [ ] **兴趣标签设置页**
  - [ ] 拉取系统支持的兴趣标签（美食、自然、历史、亲子等）
  - [ ] 多选标签并提交到后端
  - [ ] 在个人中心展示当前已选标签

---

## 3. 首页与推荐模块

- [ ] **首页布局**
  - [ ] 顶部搜索框 + 当前位置展示
  - [ ] 轮播图组件（Banner 推荐线路/活动）
  - [ ] 推荐线路模块（卡片列表）
  - [ ] 热门游记模块
  - [ ] 人气景点/美食模块

- [ ] **推荐数据获取**
  - [ ] 调用首页推荐接口，按区域渲染不同模块
  - [ ] 支持下拉刷新、上拉加载更多（游记 / 景点列表）
  - [ ] 数据加载中的骨架屏 / Loading 状态处理

- [ ] **推荐卡片交互**
  - [ ] 点击线路卡片 → 跳转线路详情
  - [ ] 点击游记卡片 → 跳转游记详情
  - [ ] 点击景点 / 美食卡片 → 跳转详情页

---

## 4. 智能旅游线路规划模块

- [ ] **线路规划入口页**
  - [ ] 城市选择组件（支持定位 + 手动选择城市）
  - [ ] 出行天数选择控件
  - [ ] 兴趣偏好多选（标签）
  - [ ] 可选字段：预算范围、同行人群（情侣/亲子/独自）

- [ ] **规划结果展示页**
  - [ ] 按天展示行程（Day1/Day2/...）
  - [ ] 每天的景点顺序列表 + 简要说明 + 预计时间
  - [ ] 显示 AI 生成的整体行程概述与推荐理由
  - [ ] 每个景点可点击查看详情

- [ ] **行程操作**
  - [ ] 支持收藏当前行程到“我的行程”
  - [ ] 支持一键分享行程（生成图片 / 复制文案，视小程序能力选择）
  - [ ] 预留“微调行程”入口（后期扩展）

---

## 5. 游记模块（发布/列表/详情/互动）

- [ ] **游记列表页**
  - [ ] 支持最新 / 最热切换
  - [ ] 支持按城市、标签筛选
  - [ ] 支持分页加载

- [ ] **游记详情页**
  - [ ] 显示游记标题、作者信息、发布时间
  - [ ] 图文内容渲染（长图文滚动）
  - [ ] 点赞、收藏、评论入口
  - [ ] 展示关联景点 / 美食卡片列表

- [ ] **游记发布页**
  - [ ] 标题输入、正文编辑（多段文本）
  - [ ] 多图上传组件（预览、删除）
  - [ ] 选择关联城市 / 景点
  - [ ] 标签选择（美食、风景、攻略等）
  - [ ] 发布前校验：标题必填、内容长度、至少一张图片（可微调）

- [ ] **互动功能前端**
  - [ ] 点赞/取消点赞按钮及状态同步
  - [ ] 收藏/取消收藏按钮及状态同步
  - [ ] 评论列表展示与分页
  - [ ] 发表评论输入框与提交逻辑

---

## 6. 景点与美食打卡模块

- [ ] **景点/美食详情页**
  - [ ] 展示基本信息（名称、图片、评分、标签、地址、简介）
  - [ ] 打卡按钮（已打卡状态高亮）
  - [ ] 打卡墙入口（查看他人打卡）

- [ ] **打卡流程**
  - [ ] 获取当前位置（授权定位）
  - [ ] 上传打卡照片 + 文本描述
  - [ ] 显示打卡成功提示，更新本页打卡状态

- [ ] **我的打卡页**
  - [ ] 按时间轴展示我的打卡记录
  - [ ] 支持按城市/类型（景点/美食）筛选
  - [ ] 查看单条打卡详情（照片、时间、地点）

---

## 7. 搜索模块

- [ ] **搜索页**
  - [ ] 搜索输入 + 历史搜索记录展示
  - [ ] 搜索建议（可选）

- [ ] **搜索结果**
  - [ ] 按“综合/游记/景点/美食/线路”分 Tab 展示
  - [ ] 列表加载、空状态展示
  - [ ] 支持再次筛选（按城市、标签）

---

## 8. 体验优化与扩展

- [ ] 页面骨架屏、空状态统一设计
- [ ] 错误提示组件（网络错误、权限不足等）
- [ ] 日志埋点：关键行为（登录、规划、打卡、发布游记）记录到后台
- [ ] 多语言/多城市支持预留（城市切换入口）
---

## 9. 异常场景与可用性优化（补充）

- [ ] **弱网与失败重试**
  - [ ] 所有接口请求失败时统一展示“重试”按钮
  - [ ] 对关键接口（首页推荐、线路规划结果）增加自动重试 1 次逻辑
  - [ ] 对定位失败、地图加载失败等给出明确文案提示与引导（如“请检查网络或打开定位权限”）

- [ ] **表单与输入校验**
  - [ ] 出行天数、城市、兴趣必填校验与友好错误提示
  - [ ] 评论、游记内容长度限制与计数提示
  - [ ] 图片上传大小与张数限制的前端提示

- [ ] **新手引导与说明**
  - [ ] 第一次进入小程序时弹出“功能引导”（简单介绍线路规划、游记、打卡）
  - [ ] 在规划结果页增加“如何使用本行程”的说明入口（图文或弹窗）
